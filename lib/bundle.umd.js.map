{"version":3,"file":"bundle.umd.js","sources":["../src/error_schemas.ts","../src/error_handler.ts"],"sourcesContent":["import { z } from \"zod\";\n\nexport const commonExceptionResponseSchema = z.object({\n  message: z.string(),\n  error: z\n    .object({\n      name: z.string(),\n      message: z.string(),\n      stack: z.string().optional(),\n    })\n    .optional(),\n});\n\nexport type CommonExceptionResponse = z.infer<typeof commonExceptionResponseSchema>;\n","import { CommonExceptionResponse, commonExceptionResponseSchema } from \"@/error_schemas\";\n\nexport const errorHandler = (message: string, error?: unknown): CommonExceptionResponse => {\n  const errorRes: CommonExceptionResponse = {\n    message,\n  };\n  if (!error) {\n    return commonExceptionResponseSchema.parse(errorRes);\n  }\n  if (error instanceof Error) {\n    errorRes.error = {\n      name: error.name,\n      message: error.message,\n      stack: error.stack || \"\",\n    };\n  } else if (typeof error === \"string\") {\n    errorRes.error = {\n      name: \"string_error\",\n      message: error,\n    };\n  } else if (typeof error === \"object\" && error !== null) {\n    errorRes.error = {\n      name: \"object_error\",\n      message: JSON.stringify(error),\n    };\n  } else {\n    errorRes.error = {\n      name: \"unknown_error\",\n      message: \"An unknown error occurred\",\n    };\n  }\n  return commonExceptionResponseSchema.parse(errorRes);\n};\n"],"names":["commonExceptionResponseSchema","z","object","message","string","error","name","stack","optional","errorRes","Error","JSON","stringify","parse"],"mappings":"qRAEO,MAAMA,EAAgCC,EAACA,EAACC,OAAO,CACpDC,QAASF,EAACA,EAACG,SACXC,MAAOJ,EAAAA,EACJC,OAAO,CACNI,KAAML,EAACA,EAACG,SACRD,QAASF,EAACA,EAACG,SACXG,MAAON,EAACA,EAACG,SAASI,aAEnBA,4BCRuB,CAACL,EAAiBE,KAC5C,MAAMI,EAAoC,CACxCN,WAEF,OAAKE,GAGDA,aAAiBK,MACnBD,EAASJ,MAAQ,CACfC,KAAMD,EAAMC,KACZH,QAASE,EAAMF,QACfI,MAAOF,EAAME,OAAS,IAGxBE,EAASJ,MADiB,iBAAVA,EACC,CACfC,KAAM,eACNH,QAASE,GAEe,iBAAVA,GAAgC,OAAVA,EACrB,CACfC,KAAM,eACNH,QAASQ,KAAKC,UAAUP,IAGT,CACfC,KAAM,gBACNH,QAAS,6BAGNH,EAA8Ba,MAAMJ,IAxBlCT,EAA8Ba,MAAMJ,EAwBO"}